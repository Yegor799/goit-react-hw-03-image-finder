{"version":3,"sources":["components/SearchBar/SearchBar.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.jsx","index.js"],"names":["SearchBar","state","searchRequest","handleRequestChange","e","setState","currentTarget","value","toLowerCase","handleRequestSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","autoComplete","autoFocus","placeholder","onChange","React","Component","Button","onClick","API_KEY","ImageGallery","pictures","page","status","handleLoadMore","prevState","fetch","then","res","json","hits","prevProps","prevPicture","nextPicture","map","id","webformatURL","tag","src","alt","App","handleSubmit","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sSAkDeA,E,4MA7CXC,MAAQ,CACJC,cAAe,I,EAGnBC,oBAAsB,SAAAC,GAClB,EAAKC,SAAS,CACdH,cAAeE,EAAEE,cAAcC,MAAMC,iB,EAIzCC,oBAAsB,SAAAL,GAClBA,EAAEM,iBAEsC,KAApC,EAAKT,MAAMC,cAAcS,QAKjC,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,eAC/B,EAAKG,SAAS,CAAEH,cAAe,MAL3BY,IAAMC,MAAM,qF,4CAQhB,WACA,OACJ,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaH,SAAUI,KAAKR,oBAA5C,UACE,wBAAQS,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZd,MAAOU,KAAKhB,MAAMC,cAClBoB,SAAUL,KAAKd,+B,GAtCGoB,IAAMC,W,mBCKfC,MANf,YAA8B,IAAZC,EAAW,EAAXA,QACd,OACI,wBAAQR,KAAK,SAASF,UAAU,SAASU,QAASA,EAAlD,wBCDFC,EAAU,qCAsEDC,E,4MAjEX3B,MAAQ,CACJ4B,SAAU,KACVd,MAAO,KACPe,KAAM,EACNC,OAAQ,Q,EAkBZC,eAAiB,WACb,EAAK3B,UAAS,SAAA4B,GAAS,MAAK,CACxBH,KAAMG,EAAUH,KAAO,MAG3BI,MAAM,8BAAD,OAA+B,EAAKtB,MAAMV,cAA1C,iBAAgE,EAAKD,MAAM6B,KAA3E,gBAAuFH,EAAvF,yDACAQ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAN,GAAQ,OAAI,EAAKxB,UAAS,SAAA4B,GAAS,MAAK,CAAEJ,SAAS,GAAD,mBAAMI,EAAUJ,UAAhB,YAA6BA,EAASS,OAAOP,OAAQ,mB,wDAtBrH,SAAmBQ,EAAWN,GAAY,IAAD,OAC/BO,EAAcD,EAAUrC,cACxBuC,EAAcxB,KAAKL,MAAMV,cAE3BsC,IAAgBC,IAChBxB,KAAKZ,SAAS,CAAE0B,OAAQ,UAAWD,KAAM,EAAGD,SAAU,OAEtDK,MAAM,8BAAD,OAA+BO,EAA/B,iBAAmDxB,KAAKhB,MAAM6B,KAA9D,gBAA0EH,EAA1E,yDACAQ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAN,GAAQ,OAAI,EAAKxB,SAAS,CAAEwB,SAAUA,EAASS,KAAMP,OAAQ,mB,oBAwB/E,WACI,MAAoCd,KAAKhB,MAAjC4B,EAAR,EAAQA,SAAR,EAAkBd,MAAlB,EAAyBgB,OACCd,KAAKL,MAAvBV,cAER,OACI,qCACI,oBAAIc,UAAU,eAAd,SACKa,GAAYA,EAASa,KAAI,YAAgC,IAA7BC,EAA4B,EAA5BA,GAAIC,EAAwB,EAAxBA,aAAcC,EAAU,EAAVA,IAC3C,OACI,oBAAa7B,UAAU,mBAAvB,SACI,qBAAK8B,IAAKF,EAAcG,IAAKF,EAAK7B,UAAU,4BADvC2B,QAOpBd,GAAY,cAAC,EAAD,CAAQH,QAAST,KAAKe,wB,GA1DxBT,IAAMC,WCsBlBwB,E,4MAtBb/C,MAAQ,CACNC,cAAe,I,EAGjB+C,aAAe,SAAA/C,GACb,EAAKG,SAAS,CAAEH,mB,4CAMlB,WACE,OACE,sBAAKc,UAAU,MAAf,UACE,cAAC,IAAD,CAAgBkC,UAAW,MAC3B,cAAC,EAAD,CAAWrC,SAAUI,KAAKgC,eAC1B,cAAC,EAAD,CAAc/C,cAAee,KAAKhB,MAAMC,uB,GAjB9BqB,IAAMC,WCAxB2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.a5035cf7.chunk.js","sourcesContent":["import './SearchBar.css';\nimport React from 'react';\nimport { toast } from 'react-toastify';\n\nclass SearchBar extends React.Component {\n    state = {\n        searchRequest: '',\n    }\n\n    handleRequestChange = e => {\n        this.setState({\n        searchRequest: e.currentTarget.value.toLowerCase()\n    })\n    }\n    \n    handleRequestSubmit = e => {\n        e.preventDefault();\n\n        if (this.state.searchRequest.trim() === '') {\n        toast.error('Введите запрос.');\n        return;\n    }\n\n    this.props.onSubmit(this.state.searchRequest);\n    this.setState({ searchRequest: '' });\n    }\n\n    render(){\n    return (\n<header className=\"Searchbar\">\n  <form className=\"SearchForm\" onSubmit={this.handleRequestSubmit}>\n    <button type=\"submit\" className=\"SearchForm-button\">\n      <span className=\"SearchForm-button-label\">Search</span>\n    </button>\n\n    <input\n      className=\"SearchForm-input\"\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n      value={this.state.searchRequest}\n      onChange={this.handleRequestChange}\n    />\n  </form>\n</header>\n    )\n        }\n}\n\nexport default SearchBar;","import React from 'react';\nimport './Button.css';\n\nfunction Button({ onClick }) {\n    return (\n        <button type=\"button\" className=\"Button\" onClick={onClick}>Load More</button>\n    )\n}\n\nexport default Button;","import React from 'react';\nimport './ImageGallery.css';\nimport Button from '../Button/Button';\n\nconst API_KEY = '18976162-4407e31cd80a0810b100a4c9f';\n\n\nclass ImageGallery extends React.Component {\n\n    state = {\n        pictures: null,\n        error: null,\n        page: 1,\n        status: 'idle'\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const prevPicture = prevProps.searchRequest;\n        const nextPicture = this.props.searchRequest;\n\n        if (prevPicture !== nextPicture) {\n            this.setState({ status: 'pending', page: 1, pictures: null })\n\n            fetch(`https://pixabay.com/api/?q=${nextPicture}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n                .then(res => res.json())\n                .then(pictures => this.setState({ pictures: pictures.hits, status: 'resolved' }))\n        }\n\n\n    }\n\n    handleLoadMore = () => {\n        this.setState(prevState => ({\n            page: prevState.page + 1,\n        }))\n\n        fetch(`https://pixabay.com/api/?q=${this.props.searchRequest}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n            .then(res => res.json())\n            .then(pictures => this.setState(prevState => ({ pictures: [...prevState.pictures, ...pictures.hits], status: 'resolved' })))\n\n\n    }\n\n\n\n\n\n\n\n    render() {\n        const { pictures, error, status } = this.state;\n        const { searchRequest } = this.props;\n\n        return (\n            <>\n                <ul className=\"ImageGallery\">\n                    {pictures && pictures.map(({ id, webformatURL, tag }) => {\n                        return (\n                            <li key={id} className=\"ImageGalleryItem\" >\n                                <img src={webformatURL} alt={tag} className=\"ImageGalleryItem-image\" />\n                            </li>\n                        )\n                    })}\n                </ul>\n\n                {pictures && <Button onClick={this.handleLoadMore} />}\n\n\n            </>\n\n        )\n    }\n}\n\nexport default ImageGallery;","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nclass App extends React.Component {\n  state = {\n    searchRequest: '',\n  }\n\n  handleSubmit = searchRequest => {\n    this.setState({ searchRequest })\n  }\n\n\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={3000} />\n        <SearchBar onSubmit={this.handleSubmit} />\n        <ImageGallery searchRequest={this.state.searchRequest} />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}