{"version":3,"sources":["components/SearchBar/SearchBar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.jsx","index.js"],"names":["SearchBar","state","searchRequest","handleRequestChange","e","setState","currentTarget","value","toLowerCase","handleRequestSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","autoComplete","autoFocus","placeholder","onChange","React","Component","Button","onClick","ImageGalleryItem","pictures","map","picture","idx","src","webformatURL","largeImageURL","alt","tag","API_KEY","ImageGallery","page","status","handleLoadMore","prevState","fetch","then","res","json","hits","prevProps","prevPicture","nextPicture","ok","Promise","reject","Error","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","message","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","addEventListener","removeEventListener","largeImage","App","showModal","handleSubmit","toggleModal","handleClick","nodeName","getAttribute","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c73e912b.chunk.js","sourcesContent":["import './SearchBar.css';\nimport React from 'react';\nimport { toast } from 'react-toastify';\n\nclass SearchBar extends React.Component {\n    state = {\n        searchRequest: '',\n    }\n\n    handleRequestChange = e => {\n        this.setState({\n        searchRequest: e.currentTarget.value.toLowerCase()\n    })\n    }\n    \n    handleRequestSubmit = e => {\n        e.preventDefault();\n\n        if (this.state.searchRequest.trim() === '') {\n        toast.error('Введите запрос.');\n        return;\n    }\n\n    this.props.onSubmit(this.state.searchRequest);\n    this.setState({ searchRequest: '' });\n    }\n\n    render(){\n    return (\n<header className=\"Searchbar\">\n  <form className=\"SearchForm\" onSubmit={this.handleRequestSubmit}>\n    <button type=\"submit\" className=\"SearchForm-button\">\n      <span className=\"SearchForm-button-label\">Search</span>\n    </button>\n\n    <input\n      className=\"SearchForm-input\"\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n      value={this.state.searchRequest}\n      onChange={this.handleRequestChange}\n    />\n  </form>\n</header>\n    )\n        }\n}\n\nexport default SearchBar;","import React from 'react';\nimport './Button.css';\n\nfunction Button({ onClick }) {\n    return (\n        <button type=\"button\" className=\"Button\" onClick={onClick}>Load More</button>\n    )\n}\n\nexport default Button;","import React from 'react';\nimport './ImageGalleryItem.css'\n\nfunction ImageGalleryItem({ pictures }) {\n\n    return (\n        <ul className=\"ImageGallery\">\n            {pictures.map((picture, idx) => {\n                return (\n                    < li key={idx} className=\"ImageGalleryItem\" >\n                        <img src={picture.webformatURL} data-source={picture.largeImageURL} alt={picture.tag} className=\"ImageGalleryItem-image\" />\n                    </li >\n                )\n            })}\n        </ul>\n    )\n\n}\n\nexport default ImageGalleryItem;\n\n","import React from 'react';\nimport Button from '../Button/Button';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst API_KEY = '18976162-4407e31cd80a0810b100a4c9f';\n\n\nclass ImageGallery extends React.Component {\n\n    state = {\n        pictures: null,\n        error: null,\n        page: 1,\n        status: 'idle'\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const prevPicture = prevProps.searchRequest;\n        const nextPicture = this.props.searchRequest;\n\n        if (prevPicture !== nextPicture) {\n            this.setState({ status: 'pending', page: 1, pictures: null })\n\n            fetch(`https://pixabay.com/api/?q=${nextPicture}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n                .then(res => {\n                    if (res.ok) {\n                        return res.json();\n                    }\n                    return Promise.reject(new Error(\"По вашему запросу нет результатов\"));\n                })\n                .then(pictures => this.setState({ pictures: pictures.hits, status: 'resolved' }))\n                .catch(error => this.setState({ error, status: 'rejected' }));\n        }\n\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n        });\n    }\n\n    handleLoadMore = () => {\n        this.setState(prevState => ({\n            page: prevState.page + 1,\n        }))\n\n        fetch(`https://pixabay.com/api/?q=${this.props.searchRequest}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n            .then(res => res.json())\n            .then(pictures => this.setState(prevState => ({ pictures: [...prevState.pictures, ...pictures.hits], status: 'resolved' })))\n\n    }\n\n    render() {\n        const { pictures, error, status } = this.state;\n\n\n\n        if (status === 'idle') {\n            return <></>\n        }\n\n        if (status === 'pending') {\n            return (\n                <Loader type=\"Puff\"\n                    color=\"#00BFFF\"\n                    height={100}\n                    width={100}\n                    timeout={3000} />\n            )\n        }\n\n        if (status === 'rejected') {\n            return <h1>{error.message}</h1>\n        }\n\n        if (status === 'resolved') {\n            return (\n                <>\n                    <ImageGalleryItem pictures={pictures} />\n                    <Button onClick={this.handleLoadMore} />\n\n                </>\n            )\n        }\n    }\n}\n\nexport default ImageGallery;\n\n","import React from 'react';\nimport './Modal.css';\n\n\n\nclass Modal extends React.Component {\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    handleKeyDown = e => {\n        if (e.code === 'Escape') {\n            this.props.onClose();\n        }\n    }\n\n    handleBackdropClick = event => {\n        if (event.currentTarget === event.target) {\n            this.props.onClose();\n        }\n    };\n\n\n    render() {\n\n        return (\n            <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n                <div className=\"Modal\">\n                    <img src={this.props.largeImage} alt=\"123\" />\n                </div>\n            </div>\n\n        )\n    }\n}\n\nexport default Modal;\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\n\nclass App extends React.Component {\n  state = {\n    searchRequest: '',\n    showModal: false,\n    largeImage: '',\n  }\n\n  componentDidMount() {\n\n    window.addEventListener('click', this.handleClick);\n  }\n\n  componentWillUnmount() {\n\n    window.addEventListener('click', this.handleClick);\n  }\n\n  handleSubmit = searchRequest => {\n    this.setState({ searchRequest })\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n\n    if (this.state.showModal === false) {\n      this.setState({ largeImage: '' })\n    }\n  };\n\n  handleClick = e => {\n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n\n    this.toggleModal();\n    this.setState({ largeImage: e.target.getAttribute('data-source') })\n  }\n\n\n  render() {\n\n    const { searchRequest, showModal, largeImage } = this.state;\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={3000} />\n        <SearchBar onSubmit={this.handleSubmit} />\n        <ImageGallery searchRequest={searchRequest} />\n        {showModal && <Modal largeImage={largeImage} onClose={this.toggleModal} />}\n\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}